<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="base :: headstuff"></head>
<body>
<div th:insert="base :: navbar"></div>
<div class="container">
    <h1 style="text-align: center;">Job Listings</h1>
    <div sec:authorize="isAuthenticated()">
        <table class="table table-striped table-dark">
            <thead>
            <tr>
                <th>Title</th>
                <th>Posted</th>
                <th>Description</th>
                <th>Posted By</th>
                <th>Contact</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="job : ${jobs}">
                <td th:text="${job.title}"></td>
                <td th:text="${#dates.format(job.posteddate, 'yyyy-MM-dd HH:mm')}"></td>
                <td th:text="${job.description}"></td>
                <td th:text="${job.author}"></td>
                <td th:text="${job.phone}"></td>
                <td>
                    <a th:href="@{/detail/{id}(id=${job.id})}">Details</a> -
                    <span>

                    <a th:href="@{/delete/{id}(id=${job.id})}">Delete</a>
                </td>
            </tr>
            </tbody>
        </table>

</div>
<nav th:replace="base :: footer"></nav>
<th:block th:replace="base :: jslinks"></th:block>
</body>
</html>